"use strict";var p=Object.create;var c=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var x=(n,o,r,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let e of y(o))!g.call(n,e)&&e!==r&&c(n,e,{get:()=>o[e],enumerable:!(t=u(o,e))||t.enumerable});return n};var d=(n,o,r)=>(r=n!=null?p(w(n)):{},x(o||!n||!n.__esModule?c(r,"default",{value:n,enumerable:!0}):r,n));var f=require("os"),a=d(require("path")),i=d(require("fs"));function b(){return Math.random().toString(36).slice(1)}function h(){let n={"User-Agent":"GitHub Actions"};return process.env.GITHUB_TOKEN&&(n.Authorization=`token ${process.env.GITHUB_TOKEN}`),{headers:n}}async function l(n,o){if(!o){let m=n.split("/").at(-1),s=a.default.join((0,f.tmpdir)(),b());i.default.existsSync(s)||i.default.mkdirSync(s,{recursive:!0}),o=a.default.join(s,m)}o=o.replaceAll("\\","/");let r=o.split("/").slice(0,-1).join("/");i.default.existsSync(r)||i.default.mkdirSync(r,{recursive:!0});let e=await(await fetch(n,h())).arrayBuffer();return i.default.writeFileSync(o,Buffer.from(e)),o}async function k(){for(let n of["https://github.com/ahaoboy/txiki.js-build/releases/download/v0.1.1/tjs-x86_64-unknown-linux-gnu.tar.gz","https://github.com/ahaoboy/spidermonkey-build/releases/latest/download/spidermonkey-x86_64-unknown-linux-gnu.tar.xz"]){let o=await l(n);console.log("download to ",o)}}k();
